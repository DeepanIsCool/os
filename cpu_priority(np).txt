#include <stdio.h>

int main() {
    int n, i, completed = 0, t = 0;
    int bt[20], at[20], pr[20], p[20];
    int wt[20], tat[20], ct[20], done[20];
    float avg_wt = 0, avg_tat = 0;

    printf("Enter number of processes: ");
    scanf("%d", &n);

    for (i = 0; i < n; i++) {
        printf("Arrival time of P%d: ", i + 1);
        scanf("%d", &at[i]);
        printf("Burst time of P%d: ", i + 1);
        scanf("%d", &bt[i]);
        printf("Priority of P%d (lower -> higher): ", i + 1);
        scanf("%d", &pr[i]);
        p[i] = i + 1;
        done[i] = 0;
    }

    while (completed < n) {
        int idx = -1;
        int best_pr = 2147483647;

        for (i = 0; i < n; i++) {
            if (!done[i] && at[i] <= t) {
                if (pr[i] < best_pr) {
                    best_pr = pr[i];
                    idx = i;
                } else if (pr[i] == best_pr) {
                    if (at[i] < at[idx]) idx = i;
                    else if (at[i] == at[idx] && p[i] < p[idx]) idx = i;
                }
            }
        }

        if (idx == -1) {
            t++;
            continue;
        }

        /* execute process idx */
        t += bt[idx];
        ct[idx] = t;
        tat[idx] = ct[idx] - at[idx];
        wt[idx] = tat[idx] - bt[idx];
        done[idx] = 1;
        completed++;
    }

    printf("\nProcess\tAT\tBT\tPR\tWT\tTAT\tCT\n");
    for (i = 0; i < n; i++) {
        printf("P%d\t%d\t%d\t%d\t%d\t%d\t%d\n",
               p[i], at[i], bt[i], pr[i], wt[i], tat[i], ct[i]);
        avg_wt += wt[i];
        avg_tat += tat[i];
    }

    printf("\nAverage Waiting Time: %.2f", avg_wt / n);
    printf("Average Turnaround Time: %.2f\n", avg_tat / n);

    return 0;
}


CPU Scheduling - Priority (Non-Preemptive)

Read number of processes from the user
For each process, read arrival time, burst time, and priority value
Initialize all processes as not done
Set current time to zero
While there are incomplete processes, find the process with highest priority that has arrived and is not yet done
If multiple processes have same priority, choose the one with earliest arrival time
If no process has arrived yet, increment time and continue
Execute the selected process completely
Update completion time as current time plus burst time
Calculate turnaround time as completion time minus arrival time
Calculate waiting time as turnaround time minus burst time
Mark the process as done and increment completed count
Display all process details with arrival time, burst time, priority, waiting time, turnaround time, and completion time
Calculate and display average waiting time and average turnaround time
